<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/logo192.png"/><link rel="manifest" href="/manifest.json"/><title>React App</title><script defer="defer" src="/static/js/main.36b072f1.js"></script><link href="/static/css/main.f855e6bc.css" rel="stylesheet"></head><body><div id="root"></div><p>Gmail API Quickstart</p><button id="authorize_button" onclick="handleAuthClick()">Authorize</button> <button id="signout_button" onclick="handleSignoutClick()">Sign Out</button><pre id="content" style="white-space:pre-wrap"></pre><script type="text/javascript">const CLIENT_ID="1073219119354-8vs00fjat4ap782htu56bv0muckpr5mi.apps.googleusercontent.com",API_KEY="AIzaSyBZdfEt5Nl2I44Vv2gkxAQwNy1ttH42PpM",DISCOVERY_DOC="https://www.googleapis.com/discovery/v1/apis/gmail/v1/rest",SCOPES="https://www.googleapis.com/auth/gmail.readonly";let tokenClient,gapiInited=!1,gisInited=!1;function gapiLoaded(){gapi.load("client",initializeGapiClient)}async function initializeGapiClient(){await gapi.client.init({apiKey:API_KEY,discoveryDocs:[DISCOVERY_DOC]}),gapiInited=!0,maybeEnableButtons()}function gisLoaded(){tokenClient=google.accounts.oauth2.initTokenClient({client_id:CLIENT_ID,scope:SCOPES,callback:""}),gisInited=!0,maybeEnableButtons()}function maybeEnableButtons(){gapiInited&&gisInited&&(document.getElementById("authorize_button").style.visibility="visible")}function handleAuthClick(){tokenClient.callback=async e=>{if(void 0!==e.error)throw e;document.getElementById("signout_button").style.visibility="visible",document.getElementById("authorize_button").innerText="Refresh",await listLabels()},null===gapi.client.getToken()?tokenClient.requestAccessToken({prompt:"consent"}):tokenClient.requestAccessToken({prompt:""})}function handleSignoutClick(){const e=gapi.client.getToken();null!==e&&(google.accounts.oauth2.revoke(e.access_token),gapi.client.setToken(""),document.getElementById("content").innerText="",document.getElementById("authorize_button").innerText="Authorize",document.getElementById("signout_button").style.visibility="hidden")}async function listLabels(){let e;try{e=await gapi.client.gmail.users.labels.list({userId:"me"})}catch(e){return void(document.getElementById("content").innerText=e.message)}const t=e.result.labels;if(!t||0==t.length)return void(document.getElementById("content").innerText="No labels found.");const n=t.reduce(((e,t)=>`${e}${t.name}\n`),"Labels:\n");document.getElementById("content").innerText=n}document.getElementById("authorize_button").style.visibility="hidden",document.getElementById("signout_button").style.visibility="hidden"</script><script async defer="defer" src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script><script async defer="defer" src="https://accounts.google.com/gsi/client" onload="gisLoaded()"></script></body></html>